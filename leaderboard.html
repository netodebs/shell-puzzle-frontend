<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Puzzle Game — Leaderboard</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700;800;900&display=swap" rel="stylesheet"/>

<style>
:root{
  --bg-img:url("https://www.ripmark.com.ng/wp-content/uploads/2025/11/Gemini_Generated_Image_5g2uag5g2uag5g2u.png");
  --winner-bg:url("https://www.ripmark.com.ng/wp-content/uploads/2025/11/Gemini_Generated_Image_sl2iwvsl2iwvsl2i.png");
  --shell-yellow:#FFD700;
  --shell-red:#E30613;
  --shell-red-dark:#7A0019;
  --muted:#98a8be;
  --card-bg:linear-gradient(180deg,rgba(227,6,19,0.96),rgba(122,0,25,0.94));
}
html,body{
  height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica Neue,Arial;
  color:#fff;overflow:hidden;
  -webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;
  text-rendering:optimizeLegibility;
}

/* Sharper, higher contrast Ken Burns background */
.bg-pan{
  position:fixed;inset:0;z-index:-2;pointer-events:none;
  background-image:var(--bg-img);
  background-size:cover;background-position:center;
  transform-origin:center;
  animation:kenburns 28s ease-in-out infinite alternate;
  filter:contrast(1.1) saturate(1.15); /* sharpened */
}
@keyframes kenburns{
  0%{transform:scale(1) translate3d(0,0,0)}
  50%{transform:scale(1.06) translate3d(1.5%, -1.5%, 0)}
  100%{transform:scale(1.1) translate3d(-2%, 2%, 0)}
}

.bg-ambient{position:fixed;inset:0;z-index:-1;pointer-events:none;
  background:
    radial-gradient(900px 600px at 20% 25%,rgba(255,215,0,0.12),transparent 60%),
    radial-gradient(800px 500px at 80% 75%,rgba(255,235,150,0.09),transparent 60%);
  mix-blend-mode:screen;animation:ambientMove 18s linear infinite;opacity:.9}
@keyframes ambientMove{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}

main{position:relative;z-index:30;max-width:1800px;margin:18px auto;padding:18px}
h1{
  font-weight:900;           /* stays bold */
  font-size:64px;            /* ⬆️ bigger title */
  margin:0;
  letter-spacing:0.5px;
  text-transform:uppercase;
  text-shadow:0 0 8px rgba(0,0,0,.6);
}
.live-badge{
  background:var(--shell-yellow);
  color:var(--shell-red);
  padding:8px 14px;
  border-radius:10px;
  margin-left:14px;
  font-weight:900;
  font-size:1.3rem;           /* ⬆️ increased font size */
  letter-spacing:0.8px;
  animation:livePulse 1.4s infinite;
  text-transform:uppercase;
  box-shadow:0 0 10px rgba(255,215,0,0.5);
}
@keyframes livePulse{0%,100%{opacity:1}50%{opacity:.6}}
.last-updated{color:#fff;opacity:.9;font-size:.95rem;margin-top:6px;text-shadow:0 0 6px rgba(0,0,0,.5)}

/* Podium */
#podiumContainer{display:flex;align-items:flex-end;justify-content:center;gap:36px;margin-top:60px}
.podium-card{
  background:var(--card-bg);border-radius:18px;padding:24px;text-align:center;
  box-shadow:0 0 25px rgba(255,215,0,0.2);
  border:1px solid rgba(255,215,0,0.3);
  position:relative;overflow:hidden;
  image-rendering:crisp-edges;
}

/* Winner background (less opacity for sharpness) */
#rank-1-card::before{
  content:"";position:absolute;inset:0;z-index:0;
  background-image:var(--winner-bg);background-size:cover;background-position:center;
  opacity:.18; /* reduced blur haze */
}
#rank-1-card>*{position:relative;z-index:1}

#rank-1-card{
  width:52%;transform:translateY(-10%);
  border:2px solid rgba(255,215,0,0.5);
  box-shadow:0 0 50px rgba(255,215,0,0.4);
  min-height:540px;
}
#rank-1-card.gold-pulse{animation:goldPulse 2.2s ease-in-out infinite}
@keyframes goldPulse{
  0%{box-shadow:0 0 30px rgba(255,215,0,0.3)}
  50%{box-shadow:0 0 80px rgba(255,215,0,0.6)}
  100%{box-shadow:0 0 30px rgba(255,215,0,0.3)}
}
#rank-2-card,#rank-3-card{width:28%;transform:translateY(8%)}

/* Sharper gift box */
.gift-box-img{
  width:260px;height:auto;margin:0 auto 10px;
  filter:drop-shadow(0 0 25px rgba(255,215,0,0.7));
  animation:boxGlow 2.5s ease-in-out infinite alternate;
  border-radius:10px;image-rendering:crisp-edges;
}
@keyframes boxGlow{0%{transform:scale(1)}100%{transform:scale(1.04)}}

.rank-circle{width:54px;height:54px;border-radius:9999px;display:flex;align-items:center;justify-content:center;font-weight:900;font-size:1.25rem;margin:6px auto}
.rank-1 .rank-circle{background:var(--shell-yellow);color:#000}
.rank-2 .rank-circle{background:#c0c0c0;color:#000}
.rank-3 .rank-circle{background:#cd7f32;color:#000}
.podium-name,.podium-institution{font-weight:800;font-size:1.8rem;line-height:1.3;margin:6px 0;text-shadow:0 0 8px rgba(0,0,0,.4)}
.podium-institution{color:#fff;opacity:.95}
.small-meta{font-size:1rem;color:#ffe;margin-top:6px;text-shadow:0 0 6px rgba(0,0,0,.4)}
.podium-stats{margin-top:16px;padding-top:10px;border-top:1px solid rgba(255,255,255,.2);display:flex;justify-content:center;gap:14px}
.podium-stats .time{color:var(--shell-yellow);font-weight:900;font-size:1.2rem;text-shadow:0 0 8px rgba(0,0,0,.5)}
.winner-text{font-weight:900;font-size:36px;letter-spacing:1px;margin-top:6px;
  background:linear-gradient(90deg,var(--shell-yellow),#fff,var(--shell-yellow));
  background-clip:text;-webkit-background-clip:text;color:transparent;text-transform:uppercase;display:inline-block;
  text-shadow:0 0 8px rgba(0,0,0,.5);
}

/* Others Grid */
#othersGrid{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-top:40px}
.other-card{background:var(--card-bg);border-radius:14px;padding:18px 20px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 8px 25px rgba(0,0,0,.6);font-size:1.15rem;border:1px solid rgba(255,215,0,0.15)}
.other-rank{font-weight:900;font-size:1.4rem;width:60px;text-align:center;color:var(--shell-yellow)}

/* Canvas layers */
#confettiCanvas,#celebrationCanvas{position:fixed;inset:0;pointer-events:none;z-index:50}
</style>
</head>

<body>
<div class="bg-pan"></div>
<div class="bg-ambient"></div>
<canvas id="confettiCanvas"></canvas>
<canvas id="celebrationCanvas"></canvas>

<main>
<header class="flex items-center gap-3">
  <img src="https://www.shell.com.ng/etc.clientlibs/amidala/clientlibs/theme-base/resources/favicon/favicon.svg" style="width:44px;height:44px;filter:drop-shadow(0 8px 12px rgba(255,215,0,.3))" alt="Shell logo"/>
  <div>
    <h1><span style="color:var(--shell-yellow)">PUZZLE</span> GAME — LEADERBOARD <span class="live-badge">LIVE</span></h1>
    <div id="lastUpdated" class="last-updated">Last updated: —</div>
  </div>
</header>

<section id="podiumContainer">
  <div id="rank-2-card" class="podium-card rank-2">
    <div class="rank-circle">2</div>
    <div class="podium-name" id="r2-name">—</div>
    <div class="podium-institution" id="r2-inst">—</div>
    <div class="small-meta" id="r2-achieved">Achieved: —</div>
    <div class="podium-stats"><div class="time" id="r2-time">—</div><div>|</div><div id="r2-moves">— moves</div></div>
  </div>

  <div id="rank-1-card" class="podium-card rank-1 gold-pulse">
    <img src="https://www.ripmark.com.ng/wp-content/uploads/2025/11/Gemini_Generated_Image_t6owfyt6owfyt6ow-removebg-preview.png" alt="Winner Gift Box" class="gift-box-img"/>
    <div class="winner-text">CURRENT TOP SOLVER</div>
    <div class="podium-name" id="r1-name">—</div>
    <div class="podium-institution" id="r1-inst">—</div>
    <div class="small-meta" id="r1-achieved">Achieved: —</div>
    <div class="podium-stats"><div class="time" id="r1-time">—</div><div>|</div><div id="r1-moves">— moves</div></div>
  </div>

  <div id="rank-3-card" class="podium-card rank-3">
    <div class="rank-circle">3</div>
    <div class="podium-name" id="r3-name">—</div>
    <div class="podium-institution" id="r3-inst">—</div>
    <div class="small-meta" id="r3-achieved">Achieved: —</div>
    <div class="podium-stats"><div class="time" id="r3-time">—</div><div>|</div><div id="r3-moves">— moves</div></div>
  </div>
</section>
<section style="margin-top:40px">
  <h2 style="text-align:center;font-size:1.8rem;font-weight:900;color:#fff;margin-bottom:14px;text-shadow:0 0 10px rgba(0,0,0,.6)">Top Solvers (4–5)</h2>
  <div id="othersGrid"></div>
</section>
</main>

<script>
const SERVER_URL='https://shell-puzzle-api.onrender.com';
const confettiCanvas=document.getElementById('confettiCanvas'),ctx=confettiCanvas.getContext('2d');
ctx.imageSmoothingEnabled=false; /* sharper confetti */

function resizeConfetti(){confettiCanvas.width=innerWidth;confettiCanvas.height=innerHeight}
resizeConfetti();addEventListener('resize',resizeConfetti);
let particles=[];

function P(x,y,vx,vy,s,c,life,rot){this.x=x;this.y=y;this.vx=vx;this.vy=vy;this.size=s;this.color=c;this.life=life;this.rot=rot||0}
P.prototype.update=function(){this.vy+=0.03;this.x+=this.vx;this.y+=this.vy;this.rot+=0.06;this.life-=1}
P.prototype.draw=function(){
  ctx.save();ctx.translate(this.x,this.y);ctx.rotate(this.rot);
  ctx.globalAlpha=Math.max(this.life/260,0.08);
  ctx.fillStyle=this.color;ctx.fillRect(-this.size/2,-this.size/2,this.size,this.size*0.6);
  ctx.restore();ctx.globalAlpha=1;
}

function burstFullScreen(){
  const cols=['#FFD700','#FFF','#E30613','#FFC300'];
  for(let i=0;i<200;i++){ // reduced count for clarity
    const x=Math.random()*innerWidth,y=Math.random()*innerHeight,ang=Math.random()*Math.PI*2,sp=Math.random()*6+2;
    const s=4+Math.random()*10;
    particles.push(new P(x,y,Math.cos(ang)*sp,Math.sin(ang)*sp,s,cols[Math.floor(Math.random()*cols.length)],320+Math.random()*140,Math.random()));
  }
}
function draw(){
  ctx.clearRect(0,0,confettiCanvas.width,confettiCanvas.height);
  for(let i=particles.length-1;i>=0;i--){const p=particles[i];p.update();p.draw();if(p.life<=0||p.y>innerHeight+80)particles.splice(i,1)}
  requestAnimationFrame(draw)
}
draw();setInterval(burstFullScreen,4500);
</script>
</body>
</html>
