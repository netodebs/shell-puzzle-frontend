<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shell Booth Puzzle Challenge</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { @apply p-6 w-full bg-gradient-to-r from-[#FFD500] to-[#ED1C24] text-black flex flex-col items-center justify-center min-h-screen; font-family:'Inter',sans-serif; }
  h1 { font-weight:800; color:#000; margin-bottom:1rem; }
  #puzzle-grid { display:grid; grid-template-columns:repeat(3,1fr); grid-template-rows:repeat(3,1fr); gap:6px; width:80vmin; aspect-ratio:1/1; border-radius:12px; overflow:hidden; }
  .puzzle-tile { position:relative; background-size:300% 300%; transition:transform .12s ease; border-radius:6px; cursor:pointer; }
  .puzzle-tile:hover:not(.empty){ transform:scale(1.05); }
  .empty { background:transparent; cursor:default; }
  #nextPlayerBtn { display:none; margin-top:20px; background:#000; color:#FFD500; padding:12px 20px; border:none; border-radius:8px; font-weight:800; cursor:pointer; }
</style>
</head>
<body>
<h1>Shell Booth Puzzle Challenge</h1>
<div id="puzzle-grid"></div>
<button id="nextPlayerBtn">Next Player</button>

<script>
const GRID_SIZE=3,TOTAL=GRID_SIZE*GRID_SIZE,IMAGE_URL="https://www.ripmark.com.ng/wp-content/uploads/2025/09/ship.jpeg.jpeg";
let tiles=[],moves=0,isRunning=false;

const puzzleGrid=document.getElementById("puzzle-grid");
const nextBtn=document.getElementById("nextPlayerBtn");

function shuffle(a){for(let i=a.length-2;i>0;i--){const j=Math.floor(Math.random()*i);[a[i],a[j]]=[a[j],a[i]]}}
function render(){puzzleGrid.innerHTML="";tiles.forEach((v,i)=>{const div=document.createElement("div");div.className="puzzle-tile";if(v===TOTAL-1&&!isRunning){div.classList.add("empty");}else{const r=Math.floor(v/GRID_SIZE),c=v%GRID_SIZE;div.style.backgroundImage=`url('${IMAGE_URL}')`;div.style.backgroundPosition=`${(c/(GRID_SIZE-1))*100}% ${(r/(GRID_SIZE-1))*100}%`;div.style.backgroundSize=`${GRID_SIZE*100}% ${GRID_SIZE*100}%`;div.onclick=()=>onClick(i);}puzzleGrid.appendChild(div);});}
function init(){tiles=Array.from({length:TOTAL},(_,i)=>i);shuffle(tiles);render();}
function canMove(i,e){const r=Math.floor(i/GRID_SIZE),c=i%GRID_SIZE,er=Math.floor(e/GRID_SIZE),ec=e%GRID_SIZE;return(r===er&&Math.abs(c-ec)===1)||(c===ec&&Math.abs(r-er)===1);}
function onClick(i){if(!isRunning)return;const e=tiles.indexOf(TOTAL-1);if(canMove(i,e)){[tiles[i],tiles[e]]=[tiles[e],tiles[i]];render();if(checkWin()){handleWin();}}}
function checkWin(){return tiles.every((v,i)=>v===i);}
function handleWin(){isRunning=false;tiles=Array.from({length:TOTAL},(_,i)=>i);render();nextBtn.style.display="block";}
nextBtn.onclick=()=>{nextBtn.style.display="none";init();};
init();
</script>
</body>
</html>